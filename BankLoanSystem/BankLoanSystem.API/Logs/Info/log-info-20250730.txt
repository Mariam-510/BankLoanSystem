2025-07-30 09:13:01.465 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:13:01.508 +03:00 [INF]  Starting request POST /api/Auth/Register
2025-07-30 09:13:07.475 +03:00 [INF]  Completed request POST /api/Auth/Register with status 201 in 5967ms
2025-07-30 09:14:29.461 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:14:29.498 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:14:31.412 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 403 in 1914ms
2025-07-30 09:14:55.761 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:14:55.981 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 401 in 219ms
2025-07-30 09:15:04.180 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:15:05.182 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 1001ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:15:05.314 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:15:56.698 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:16:11.319 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 14621ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:16:11.441 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:18:30.449 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:18:30.487 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:18:33.232 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 2744ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:18:33.371 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:19:01.678 +03:00 [INF]  Starting request POST /api/Auth/ResendConfirmEmail
2025-07-30 09:19:04.511 +03:00 [INF]  Completed request POST /api/Auth/ResendConfirmEmail with status 200 in 2833ms
2025-07-30 09:19:25.569 +03:00 [INF]  Starting request POST /api/Auth/ConfirmEmailCode
2025-07-30 09:19:26.008 +03:00 [INF]  Completed request POST /api/Auth/ConfirmEmailCode with status 200 in 439ms
2025-07-30 09:19:44.983 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:19:45.852 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 869ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:19:45.973 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:20:12.740 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:21:39.399 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 86658ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:21:39.521 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:21:50.073 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:21:56.387 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 6313ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:21:56.513 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:21:58.158 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:21:58.949 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 791ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:21:59.065 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:22:24.347 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:22:25.121 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 773ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:22:25.237 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:22:46.292 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:25:34.870 +03:00 [ERR]  Request POST /api/Auth/Login failed with exception after 168578ms
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
2025-07-30 09:25:34.985 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'value')
   at System.ArgumentNullException.Throw(String paramName)
   at System.ArgumentNullException.ThrowIfNull(Object argument, String paramName)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at BankLoanSystem.Application.Services.JWTService.CreateJWTToken(AppUser appUser, List`1 roles) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\JWTService.cs:line 28
   at BankLoanSystem.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\Services\AuthService.cs:line 138
   at BankLoanSystem.API.Controllers.AuthController.Login(LoginDto loginDto) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\AuthController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-07-30 09:27:33.340 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:27:33.374 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:27:40.144 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 6770ms
2025-07-30 09:27:57.998 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:28:01.178 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 3179ms
2025-07-30 09:28:25.968 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:28:25.981 +03:00 [WRN]  Completed request GET /api/Loans with status 401 in 13ms
2025-07-30 09:28:30.750 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 09:28:30.759 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 09:28:31.477 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 727ms
2025-07-30 09:28:39.128 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 09:28:39.132 +03:00 [WRN]  Completed request POST /api/LoanTypes with status 401 in 3ms
2025-07-30 09:29:43.568 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 09:29:43.624 +03:00 [WRN]  Completed request POST /api/LoanTypes with status 401 in 55ms
2025-07-30 09:29:47.779 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 09:29:47.802 +03:00 [WRN]  Completed request POST /api/LoanTypes with status 401 in 23ms
2025-07-30 09:30:03.623 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 09:30:03.796 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 172ms
2025-07-30 09:30:05.891 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 09:30:06.199 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 307ms
2025-07-30 09:30:08.877 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 09:30:09.026 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 149ms
2025-07-30 09:30:29.594 +03:00 [INF]  Starting request DELETE /api/LoanTypes/2
2025-07-30 09:30:29.876 +03:00 [INF]  Completed request DELETE /api/LoanTypes/2 with status 200 in 281ms
2025-07-30 09:30:34.846 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 09:30:34.974 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 128ms
2025-07-30 09:30:43.975 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 09:30:44.105 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 129ms
2025-07-30 09:30:47.966 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 09:30:48.112 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 146ms
2025-07-30 09:30:53.409 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:30:53.729 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (263ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:30:53.824 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
2025-07-30 09:30:54.445 +03:00 [ERR]  Request GET /api/Loans failed with exception after 1035ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
2025-07-30 09:30:54.616 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
2025-07-30 09:31:21.775 +03:00 [INF]  Starting request GET /api/LoanTypes/1
2025-07-30 09:31:21.926 +03:00 [INF]  Completed request GET /api/LoanTypes/1 with status 200 in 151ms
2025-07-30 09:31:26.301 +03:00 [INF]  Starting request GET /api/LoanTypes/2
2025-07-30 09:31:26.437 +03:00 [WRN]  Completed request GET /api/LoanTypes/2 with status 404 in 135ms
2025-07-30 09:31:36.392 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:31:36.640 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (245ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:31:36.714 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
2025-07-30 09:31:37.300 +03:00 [ERR]  Request GET /api/Loans failed with exception after 908ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
2025-07-30 09:31:37.429 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:52cc6955-7d84-4160-a6ff-03404aad93f9
Error Number:208,State:1,Class:16
2025-07-30 09:32:47.800 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:32:47.839 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:32:47.896 +03:00 [WRN]  Completed request GET /api/Loans with status 401 in 57ms
2025-07-30 09:33:10.780 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:33:13.130 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 2349ms
2025-07-30 09:37:04.476 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:37:04.513 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:37:07.155 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 2642ms
2025-07-30 09:37:25.358 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:37:25.410 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 09:37:39.984 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (273ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:37:40.086 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:37:43.101 +03:00 [ERR]  Request GET /api/Loans failed with exception after 17742ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:37:43.255 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:39:39.196 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:40:03.565 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (920ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:40:03.638 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:04.256 +03:00 [ERR]  Request GET /api/Loans failed with exception after 25062ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:04.396 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:40.452 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:40:40.711 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (252ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:40:40.791 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:41.410 +03:00 [ERR]  Request GET /api/Loans failed with exception after 957ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:41.555 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:46.777 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:40:47.034 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (254ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:40:47.109 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:47.677 +03:00 [ERR]  Request GET /api/Loans failed with exception after 899ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:47.803 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:40:57.248 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:41:02.548 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (243ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:41:02.621 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:41:03.208 +03:00 [ERR]  Request GET /api/Loans failed with exception after 5959ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:41:03.337 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:41:58.624 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:42:12.301 +03:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (5,487ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[Id], [l].[Amount], [l].[AppUserId], [l].[CreatedAt], [l].[Duration], [l].[IsDeleted], [l].[LoanTypeId], [l].[NationalIdPath], [l].[SalarySlipPath], [l].[Status], [l].[UpdatedAt], [a].[Id], [a].[AccessFailedCount], [a].[CodeGeneratedAt], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmationCode], [a].[EmailConfirmed], [a].[FirstName], [a].[IsDeleted], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PasswordResetCode], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ResetCodeGeneratedAt], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[IsDeleted], [l0].[Name], [l0].[UpdatedAt]
FROM [Loans] AS [l]
INNER JOIN [AppUser] AS [a] ON [l].[AppUserId] = [a].[Id]
INNER JOIN [LoanTypes] AS [l0] ON [l].[LoanTypeId] = [l0].[Id]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-07-30 09:42:12.375 +03:00 [ERR] Microsoft.EntityFrameworkCore.Query An exception occurred while iterating over the results of a query for context type 'BankLoanSystem.Infrastructure.DbContext.LoanDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:42:14.621 +03:00 [ERR]  Request GET /api/Loans failed with exception after 15996ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:42:14.746 +03:00 [ERR] Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'AppUser'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at BankLoanSystem.Infrastructure.Repositories.LoanRepository.GetAllAsync() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Infrastructure\Repositories\LoanRepository.cs:line 24
   at BankLoanSystem.Application.CQRS.Handlers.Loan.GetAllLoansQueryHandler.Handle(GetAllLoansQuery request, CancellationToken cancellationToken) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.Application\CQRS\Handlers\Loan\GetAllLoansQueryHandler.cs:line 27
   at BankLoanSystem.API.Controllers.LoansController.GetAll() in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Controllers\LoansController.cs:line 30
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at BankLoanSystem.API.Middlewares.LoggingMiddleware.InvokeAsync(HttpContext context) in E:\Bank Misr\Solo Project\BankLoanSystem\BankLoanSystem\BankLoanSystem.API\Middlewares\LoggingMiddleware.cs:line 22
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
ClientConnectionId:c698f1c2-470c-4463-a0b9-9b5ffe1b4ccb
Error Number:208,State:1,Class:16
2025-07-30 09:52:10.582 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 09:52:10.678 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:52:10.898 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 09:52:19.017 +03:00 [INF]  Completed request GET /api/Loans with status 200 in 8340ms
2025-07-30 09:52:22.781 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:52:23.158 +03:00 [INF]  Completed request GET /api/Loans with status 200 in 377ms
2025-07-30 09:52:48.753 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 09:52:50.750 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 1996ms
2025-07-30 09:53:25.827 +03:00 [INF]  Starting request POST /api/Loans
2025-07-30 09:53:26.787 +03:00 [INF]  Completed request POST /api/Loans with status 201 in 960ms
2025-07-30 09:53:30.826 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 09:53:31.153 +03:00 [INF]  Completed request GET /api/Loans with status 200 in 327ms
2025-07-30 10:00:02.965 +03:00 [INF]  Starting request GET /api/Loans/1
2025-07-30 10:00:03.760 +03:00 [INF]  Completed request GET /api/Loans/1 with status 200 in 794ms
2025-07-30 10:08:20.376 +03:00 [INF]  Starting request GET /api/Loans/user
2025-07-30 10:08:21.324 +03:00 [INF]  Completed request GET /api/Loans/user with status 200 in 947ms
2025-07-30 10:08:41.187 +03:00 [INF]  Starting request GET /api/Loans/type/2
2025-07-30 10:08:41.194 +03:00 [WRN]  Completed request GET /api/Loans/type/2 with status 403 in 6ms
2025-07-30 10:08:47.927 +03:00 [INF]  Starting request GET /api/Loans/type/1
2025-07-30 10:08:47.931 +03:00 [WRN]  Completed request GET /api/Loans/type/1 with status 403 in 4ms
2025-07-30 10:08:53.208 +03:00 [INF]  Starting request GET /api/Loans/type/1
2025-07-30 10:08:53.211 +03:00 [WRN]  Completed request GET /api/Loans/type/1 with status 403 in 2ms
2025-07-30 10:09:05.447 +03:00 [INF]  Starting request GET /api/Loans/type/1
2025-07-30 10:09:05.449 +03:00 [WRN]  Completed request GET /api/Loans/type/1 with status 403 in 2ms
2025-07-30 10:09:25.258 +03:00 [INF]  Starting request POST /api/Loans
2025-07-30 10:09:25.516 +03:00 [INF]  Completed request POST /api/Loans with status 201 in 258ms
2025-07-30 10:17:23.564 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 10:17:23.606 +03:00 [INF]  Starting request POST /api/Loans
2025-07-30 10:17:23.674 +03:00 [WRN]  Completed request POST /api/Loans with status 401 in 67ms
2025-07-30 10:17:43.189 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:17:45.451 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 2262ms
2025-07-30 10:18:06.558 +03:00 [INF]  Starting request POST /api/Loans
2025-07-30 10:18:06.613 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 10:18:07.744 +03:00 [INF]  Completed request POST /api/Loans with status 201 in 1185ms
2025-07-30 10:18:13.693 +03:00 [INF]  Starting request POST /api/Loans
2025-07-30 10:18:14.014 +03:00 [WRN]  Completed request POST /api/Loans with status 404 in 321ms
2025-07-30 10:18:21.167 +03:00 [INF]  Starting request GET /api/Loans/user
2025-07-30 10:18:21.426 +03:00 [INF]  Completed request GET /api/Loans/user with status 200 in 258ms
2025-07-30 10:18:29.649 +03:00 [INF]  Starting request GET /api/Loans/type/1
2025-07-30 10:18:29.656 +03:00 [WRN]  Completed request GET /api/Loans/type/1 with status 403 in 7ms
2025-07-30 10:19:04.236 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:19:04.364 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 401 in 127ms
2025-07-30 10:19:12.753 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:19:13.063 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 309ms
2025-07-30 10:19:36.577 +03:00 [INF]  Starting request POST /api/Loans
2025-07-30 10:19:36.580 +03:00 [WRN]  Completed request POST /api/Loans with status 403 in 2ms
2025-07-30 10:19:49.159 +03:00 [INF]  Starting request GET /api/Loans/user
2025-07-30 10:19:49.161 +03:00 [WRN]  Completed request GET /api/Loans/user with status 403 in 1ms
2025-07-30 10:19:51.496 +03:00 [INF]  Starting request GET /api/Loans/user
2025-07-30 10:19:51.498 +03:00 [WRN]  Completed request GET /api/Loans/user with status 403 in 2ms
2025-07-30 10:19:54.714 +03:00 [INF]  Starting request GET /api/Loans/type/1
2025-07-30 10:19:54.895 +03:00 [INF]  Completed request GET /api/Loans/type/1 with status 200 in 180ms
2025-07-30 10:19:58.705 +03:00 [INF]  Starting request GET /api/Loans/type/2
2025-07-30 10:19:58.843 +03:00 [WRN]  Completed request GET /api/Loans/type/2 with status 404 in 138ms
2025-07-30 10:20:03.165 +03:00 [INF]  Starting request GET /api/Loans/type/3
2025-07-30 10:20:03.359 +03:00 [INF]  Completed request GET /api/Loans/type/3 with status 200 in 194ms
2025-07-30 10:20:13.574 +03:00 [INF]  Starting request PATCH /api/Loans/1/status
2025-07-30 10:20:13.967 +03:00 [INF]  Completed request PATCH /api/Loans/1/status with status 200 in 392ms
2025-07-30 10:27:55.894 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 10:27:55.931 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:27:57.869 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 401 in 1938ms
2025-07-30 10:28:03.377 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:28:03.952 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 575ms
2025-07-30 10:28:29.808 +03:00 [INF]  Starting request PATCH /api/Loans/1/status
2025-07-30 10:28:29.864 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 10:28:33.937 +03:00 [INF]  Completed request PATCH /api/Loans/1/status with status 200 in 4128ms
2025-07-30 10:33:02.556 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 10:33:02.598 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:33:05.315 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 2716ms
2025-07-30 10:33:25.459 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 10:33:25.518 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 10:33:26.841 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 1381ms
2025-07-30 10:33:28.815 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 10:33:29.217 +03:00 [WRN]  Completed request POST /api/LoanTypes with status 500 in 402ms
2025-07-30 10:33:38.867 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 10:33:39.104 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 236ms
2025-07-30 10:33:48.408 +03:00 [INF]  Starting request DELETE /api/LoanTypes/4
2025-07-30 10:33:48.735 +03:00 [INF]  Completed request DELETE /api/LoanTypes/4 with status 200 in 326ms
2025-07-30 10:34:03.956 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 10:34:04.238 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 281ms
2025-07-30 10:34:09.088 +03:00 [INF]  Starting request DELETE /api/LoanTypes/5
2025-07-30 10:34:09.366 +03:00 [INF]  Completed request DELETE /api/LoanTypes/5 with status 200 in 277ms
2025-07-30 10:47:38.242 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 10:47:38.277 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 10:47:40.514 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 2237ms
2025-07-30 10:47:55.470 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 10:47:55.516 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 10:47:56.118 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 648ms
2025-07-30 10:48:02.216 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 10:48:02.719 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 503ms
2025-07-30 10:48:13.839 +03:00 [INF]  Starting request PUT /api/LoanTypes/6
2025-07-30 10:48:14.249 +03:00 [INF]  Completed request PUT /api/LoanTypes/6 with status 200 in 410ms
2025-07-30 10:48:20.098 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 10:48:20.389 +03:00 [INF]  Completed request POST /api/LoanTypes with status 201 in 291ms
2025-07-30 10:48:30.548 +03:00 [INF]  Starting request DELETE /api/LoanTypes/7
2025-07-30 10:48:30.811 +03:00 [INF]  Completed request DELETE /api/LoanTypes/7 with status 200 in 262ms
2025-07-30 10:48:34.849 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 10:48:35.030 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 180ms
2025-07-30 10:48:47.840 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 10:48:48.093 +03:00 [INF]  Completed request GET /api/Loans with status 200 in 252ms
2025-07-30 10:49:19.256 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 10:49:19.384 +03:00 [INF]  Completed request GET /api/Loans with status 200 in 128ms
2025-07-30 10:49:30.480 +03:00 [INF]  Starting request PATCH /api/Loans/1/status
2025-07-30 10:49:33.063 +03:00 [INF]  Completed request PATCH /api/Loans/1/status with status 200 in 2582ms
2025-07-30 10:49:48.482 +03:00 [INF]  Starting request PATCH /api/Loans/1/status
2025-07-30 10:49:50.670 +03:00 [INF]  Completed request PATCH /api/Loans/1/status with status 200 in 2188ms
2025-07-30 11:01:35.332 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 11:01:35.372 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 11:01:37.297 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 401 in 1925ms
2025-07-30 11:01:45.260 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 11:01:45.422 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 401 in 161ms
2025-07-30 11:01:50.870 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 11:01:51.348 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 478ms
2025-07-30 12:04:09.875 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 12:04:09.918 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 12:04:12.021 +03:00 [WRN] BankLoanSystem.Application.Services.AuthService Login attempt with non-existent or deleted email: mariam@gmail.com
2025-07-30 12:04:12.033 +03:00 [WRN]  Completed request POST /api/Auth/Login with status 401 in 2114ms
2025-07-30 12:04:19.929 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 12:04:20.505 +03:00 [INF] BankLoanSystem.Application.Services.AuthService Successful login for user: mariam@example.com
2025-07-30 12:04:20.509 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 580ms
2025-07-30 12:04:50.491 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 12:04:50.864 +03:00 [INF] BankLoanSystem.Application.Services.AuthService Successful login for user: admin1@gmail.com
2025-07-30 12:04:50.866 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 375ms
2025-07-30 12:05:25.826 +03:00 [INF]  Starting request POST /api/Auth/CreateAdmin
2025-07-30 12:05:25.838 +03:00 [WRN]  Completed request POST /api/Auth/CreateAdmin with status 401 in 11ms
2025-07-30 12:05:31.444 +03:00 [INF]  Starting request POST /api/Auth/CreateAdmin
2025-07-30 12:05:31.448 +03:00 [WRN]  Completed request POST /api/Auth/CreateAdmin with status 401 in 3ms
2025-07-30 12:05:52.601 +03:00 [INF]  Starting request POST /api/Auth/CreateAdmin
2025-07-30 12:05:53.209 +03:00 [WRN] BankLoanSystem.Application.Services.AuthService Admin creation attempt with existing email: admin1@gmail.com
2025-07-30 12:05:53.214 +03:00 [WRN]  Completed request POST /api/Auth/CreateAdmin with status 400 in 611ms
2025-07-30 12:05:58.809 +03:00 [INF]  Starting request POST /api/Auth/CreateAdmin
2025-07-30 12:05:58.948 +03:00 [ERR] BankLoanSystem.Application.Services.AuthService Admin creation failed for email: admin2@gmail.com. Errors: Passwords must be at least 8 characters., Passwords must have at least one non alphanumeric character., Passwords must have at least one digit ('0'-'9')., Passwords must have at least one uppercase ('A'-'Z')., Password must be between 8 and 10 characters long.
2025-07-30 12:05:58.980 +03:00 [WRN]  Completed request POST /api/Auth/CreateAdmin with status 400 in 170ms
2025-07-30 12:06:10.314 +03:00 [INF]  Starting request POST /api/Auth/CreateAdmin
2025-07-30 12:06:12.340 +03:00 [INF] BankLoanSystem.Application.Services.AuthService Admin created successfully with email: admin2@gmail.com
2025-07-30 12:06:12.345 +03:00 [INF]  Completed request POST /api/Auth/CreateAdmin with status 201 in 2031ms
2025-07-30 12:07:04.744 +03:00 [INF]  Starting request POST /api/Auth/ConfirmEmailCode
2025-07-30 12:07:04.901 +03:00 [WRN] BankLoanSystem.Application.Services.AuthService ConfirmEmailCode: Email already confirmed for: admin2@gmail.com
2025-07-30 12:07:04.906 +03:00 [WRN]  Completed request POST /api/Auth/ConfirmEmailCode with status 409 in 161ms
2025-07-30 12:07:27.349 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 12:07:27.359 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 12:07:28.559 +03:00 [INF]  Completed request GET /api/Loans with status 200 in 1210ms
2025-07-30 12:40:55.200 +03:00 [WRN] Failed to determine the https port for redirect.
2025-07-30 12:40:55.237 +03:00 [INF] Starting request GET /api/LoanTypes
2025-07-30 12:40:55.316 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 12:40:57.197 +03:00 [INF] Completed request GET /api/LoanTypes with status 200 in 1960ms
2025-07-30 12:41:22.384 +03:00 [INF] Starting request GET /api/LoanTypes
2025-07-30 12:41:22.526 +03:00 [INF] Completed request GET /api/LoanTypes with status 200 in 142ms
2025-07-30 12:41:58.714 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 12:41:58.756 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 12:41:58.817 +03:00 [WRN]  Completed request GET /api/Loans with status 401 in 61ms
2025-07-30 12:42:05.109 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 12:42:05.133 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 12:42:06.922 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 1812ms
2025-07-30 12:47:41.104 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 12:47:41.141 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 12:47:41.223 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 12:47:43.296 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 2156ms
2025-07-30 12:47:46.292 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 12:47:46.457 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 165ms
2025-07-30 12:48:06.679 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 12:48:06.691 +03:00 [WRN]  Completed request GET /api/Loans with status 401 in 12ms
2025-07-30 12:48:51.707 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 12:48:51.711 +03:00 [WRN]  Completed request GET /api/Loans with status 401 in 4ms
2025-07-30 12:49:07.123 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 12:49:07.161 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 12:49:07.237 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 12:49:08.928 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 1767ms
2025-07-30 13:18:00.210 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 13:18:00.248 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 13:18:00.325 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 13:18:02.216 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 1968ms
2025-07-30 16:44:01.670 +03:00 [WRN] Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware Failed to determine the https port for redirect.
2025-07-30 16:44:02.008 +03:00 [INF]  Starting request POST /api/Auth/Register
2025-07-30 16:44:04.096 +03:00 [ERR] BankLoanSystem.Application.Services.AuthService Registration failed for email: user@example.com. Errors: Passwords must be at least 8 characters., Passwords must have at least one non alphanumeric character., Passwords must have at least one digit ('0'-'9')., Passwords must have at least one uppercase ('A'-'Z')., Password must be between 8 and 10 characters long.
2025-07-30 16:44:04.149 +03:00 [WRN]  Completed request POST /api/Auth/Register with status 400 in 2141ms
2025-07-30 16:44:34.085 +03:00 [INF]  Starting request POST /api/Auth/Register
2025-07-30 16:44:34.269 +03:00 [ERR] BankLoanSystem.Application.Services.AuthService Registration failed for email: user@example.com. Errors: Passwords must be at least 8 characters., Passwords must have at least one non alphanumeric character., Passwords must have at least one digit ('0'-'9')., Passwords must have at least one uppercase ('A'-'Z')., Password must be between 8 and 10 characters long.
2025-07-30 16:44:34.272 +03:00 [WRN]  Completed request POST /api/Auth/Register with status 400 in 186ms
2025-07-30 16:44:44.835 +03:00 [INF]  Starting request POST /api/Auth/Register
2025-07-30 16:44:49.264 +03:00 [INF] BankLoanSystem.Application.Services.AuthService User registered successfully with email: user@example.com
2025-07-30 16:44:49.266 +03:00 [INF]  Completed request POST /api/Auth/Register with status 201 in 4431ms
2025-07-30 16:45:22.765 +03:00 [INF]  Starting request POST /api/Auth/ConfirmEmailCode
2025-07-30 16:45:23.217 +03:00 [INF] BankLoanSystem.Application.Services.AuthService Email confirmed successfully for: user@example.com
2025-07-30 16:45:23.225 +03:00 [INF]  Completed request POST /api/Auth/ConfirmEmailCode with status 200 in 459ms
2025-07-30 16:45:40.442 +03:00 [INF]  Starting request GET /api/LoanTypes
2025-07-30 16:45:40.452 +03:00 [WRN] LuckyPennySoftware.MediatR.License You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-07-30 16:45:41.166 +03:00 [INF]  Completed request GET /api/LoanTypes with status 200 in 723ms
2025-07-30 16:45:48.330 +03:00 [INF]  Starting request POST /api/LoanTypes
2025-07-30 16:45:48.346 +03:00 [WRN]  Completed request POST /api/LoanTypes with status 401 in 16ms
2025-07-30 16:46:04.234 +03:00 [INF]  Starting request GET /api/Loans
2025-07-30 16:46:04.237 +03:00 [WRN]  Completed request GET /api/Loans with status 401 in 3ms
2025-07-30 16:46:36.916 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 16:46:37.360 +03:00 [INF] BankLoanSystem.Application.Services.AuthService Successful login for user: mariam@example.com
2025-07-30 16:46:37.364 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 448ms
2025-07-30 16:47:23.124 +03:00 [INF]  Starting request GET /api/Loans/user
2025-07-30 16:47:23.454 +03:00 [INF]  Completed request GET /api/Loans/user with status 200 in 330ms
2025-07-30 16:47:58.450 +03:00 [INF]  Starting request PATCH /api/Loans/2/status
2025-07-30 16:47:58.462 +03:00 [WRN]  Completed request PATCH /api/Loans/2/status with status 403 in 11ms
2025-07-30 16:48:30.051 +03:00 [INF]  Starting request POST /api/Auth/Login
2025-07-30 16:48:30.432 +03:00 [INF] BankLoanSystem.Application.Services.AuthService Successful login for user: admin1@gmail.com
2025-07-30 16:48:30.434 +03:00 [INF]  Completed request POST /api/Auth/Login with status 200 in 382ms
2025-07-30 16:48:55.147 +03:00 [INF]  Starting request PATCH /api/Loans/2/status
2025-07-30 16:48:58.131 +03:00 [INF]  Completed request PATCH /api/Loans/2/status with status 200 in 2984ms
2025-07-30 16:49:25.233 +03:00 [INF]  Starting request GET /api/Loans/type/1
2025-07-30 16:49:25.385 +03:00 [INF]  Completed request GET /api/Loans/type/1 with status 200 in 152ms
2025-07-30 16:49:51.577 +03:00 [INF]  Starting request PUT /api/Loans/2
2025-07-30 16:49:51.581 +03:00 [WRN]  Completed request PUT /api/Loans/2 with status 403 in 3ms
